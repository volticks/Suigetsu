
.section .text
.global _start
_start:
  mov 1, d2
  mov 0xffffffff, d1
  mov 0x80000000, d0
  add d1, d0
  ## Stall until we update the CF flag, (on the real CPU this is how we would have to do it anyway)
  nop
  addc d0, d2
  
  ## Testing subc
  sub d1, d2
  subc d1, d2
  
  #mov 0x80, d2
  
  #### Uncomment fo negative mdr
  mov 100, d0
  mul  d0, d2

  #mov mdr, d2

  
  #mov psw, d2
  #mov 1, d0
  #mov 2, d2 
  mov -1, d2
  #mov 0, mdr
  mov 0x1234, d0
  divu  d2, d0
  #divu d2, d0
  #mov mdr, d1
  mov d0, d2
  #add d1, d0
  mov psw, d1
  add d1, d2
  #mov d1, d2
  
  mov 0x814141, d0
  mov 0x414142, d1
  or d1, d0
  xor d1, d0
  not d0
  
  #asr 0x1f, d0
  mov 0x1f, d1
  lsr d1, d0
  asl d1, d0
  ror d0
  rol d0

  mov psw, d0
  mov d0, d2
  
  mov 0x1234, d2
  mov 0x1000, a0
  mov d2, (d0, a0)

  #add 0x80000000, d2
  #mov d0, (a0)
  inc d0
  mov (d0, a0), d2


  ## Lets try some cross page accesses 
  mov 0x1000, a0
  mov 0xffe, d0
  #mov 0x0, d0
  mov 0x12345678, d2
  mov d2, (d0, a0)
  #inc d0 ## Causes problems innit
  mov (d0, a0), d2
  #mov (2, a0), d2
  #mov (0x414, a0), d2
  #mov (0x4141, a0), d2
  ##mov (0x41413000, a0), d2
  ##mov (0x41414000), d2
  #mov (2, sp), d2
  #
  ##mov (0x41413000, a0), a2
  ##mov (0x41414000, sp), a2
  #mov 0, a0
  #mov (0x41, a0), sp

  mov d2, (a0)
  mov d2, (2, a0)
  mov d2, (0x414, a0)
  #mov d2, (0x41413000, a0)
  #mov d2, (0x41414000)
  mov d2, (2, sp)
  #mov d2, (0x41413000, sp)
  mov sp, (2, a0)


  nop
  nop
  nop
  nop
  mov (2, sp), d2
  
  #mov (0x41413000, a0), a2
  #mov (0x41414000, sp), a2
  mov 0, a0
  mov (0x41, a0), sp

  
  movbu (a0), d1
  movbu (0), d2

  movhu (a0), d1
  movhu (0), d2
  mov 128, d1
  mov d1, a1
  #movbu (0x8, a1), d2
  .byte 0xf8, 0x49, 0x80
  #movb (0), d2 ## Idk if this actually exists -- it doesnt.
  #mov (0), d2
  
  #movm (sp), [other]
  #movm [other], (sp)
  mov 0, d0
  mov d0, a0
  mov a0, sp
  ## Nothing below a2 allowed
  add 48, sp


  mov 9, d0
  mov d0, mdr

  mov 1, d2
  mov 2, d3
  mov 3, a2
  mov 4, a3
  mov 5, d0
  mov 6, d1
  mov 7, a0
  mov 8, a1
  #mov 9, mdr
  #mov 10, lir
  #mov 11, lar

  #movm [a2, a3, d2, d3, other], (sp)
  #movm (sp), [other]

  movm [a2, a3, d2, d3], (sp)
  movm [a2, a3, d2, d3], (sp)
  movm (sp), [a2, a3, d2, d3]
  movm (sp), [a2, a3, d2, d3]
 
  ## This assembles into a 0x5a thing and sets the d8 to 0
  mov (sp), d2

  #movm [a2, d3, d2, a3, other], (sp)
  #movm [a2, a3, d2, d3], (sp)
  #movm [a2, a3, d2], (sp)
  #movm [a2, a3], (sp)
  #movm [a2, d3, a3], (sp)
  #movm [a2], (sp)
  .byte 0xcf, 0x28
  
  #mov 0, d2
  #add a0, d2
  #add a1, d2
  #add a2, d2
  #add a3, d2
  #add d0, d2
  #add d1, d2
  #add d3, d2

  #mov mdr, d3
  #add d3, d2
  #add 0x80000000, d2

  mov 0x41414003, d2
  #mov 0x10012, d2
  mov d2, a0

  mov 0x8049f8, d0
  mov d0, (a0)
  #jmp (a0)
#  .byte 0xcd, 0x43, 0x43, 0x0, 0xff
#.byte 0xcd, 0x43, 0x43, 0x1, 0xff
#.byte 0xcd, 0x43, 0x44, 0x2, 0xff
.byte 0xdd, 0x43, 0x43, 0x44, 0x44, 0x20, 0xff
bset 0x41, (0x42, a1)
bset 0x41, (0x41424344)
#.byte 0xcd, 0x43, 0x43, 0x3, 0xff
#.byte 0xcd, 0x43, 0x43, 0x4, 0xff
#.byte 0xcd, 0x43, 0x43, 0x5, 0xff
#.byte 0xcd, 0x43, 0x43, 0x6, 0xff
#.byte 0xcd, 0x43, 0x43, 0x7, 0xff
#.byte 0xcd, 0x43, 0x43, 0x8, 0xff
#.byte 0xcd, 0x43, 0x43, 0x9, 0xff
#.byte 0xcd, 0x43, 0x43, 0xa, 0xff
#.byte 0xcd, 0x43, 0x43, 0xb, 0xff
#.byte 0xcd, 0x43, 0x43, 0xc, 0xff
#.byte 0xcd, 0x43, 0x43, 0xd, 0xff
#.byte 0xcd, 0x43, 0x43, 0xe, 0xff
#.byte 0xcd, 0x43, 0x43, 0xf, 0xff
#.byte 0xcd, 0x43, 0x43, 0xf, 0xff
#.byte 0xcd, 0x43, 0x43, 0x10, 0xff
#.byte 0xcd, 0x43, 0x43, 0x11, 0xff
#.byte 0xcd, 0x43, 0x43, 0x12, 0xff
#.byte 0xcd, 0x43, 0x43, 0x13, 0xff
#.byte 0xcd, 0x43, 0x43, 0x14, 0xff
#.byte 0xcd, 0x43, 0x43, 0x15, 0xff
#.byte 0xcd, 0x43, 0x43, 0x16, 0xff
#.byte 0xcd, 0x43, 0x43, 0x17, 0xff
#.byte 0xcd, 0x43, 0x43, 0x18, 0xff
#.byte 0xcd, 0x43, 0x43, 0x19, 0xff
#.byte 0xcd, 0x43, 0x43, 0x1a, 0xff
#.byte 0xcd, 0x43, 0x43, 0x1b, 0xff
#.byte 0xcd, 0x43, 0x43, 0x1c, 0xff
#.byte 0xcd, 0x43, 0x43, 0x1d, 0xff
#.byte 0xcd, 0x43, 0x43, 0x1e, 0xff
#.byte 0xcd, 0x43, 0x43, 0x1f, 0xff
#.byte 0xcd, 0x43, 0x43, 0x20, 0xff
#.byte 0xcd, 0x43, 0x43, 0x21, 0xff
#.byte 0xcd, 0x43, 0x43, 0x22, 0xff
#.byte 0xcd, 0x43, 0x43, 0x23, 0xff
#.byte 0xcd, 0x43, 0x43, 0x24, 0xff
#.byte 0xcd, 0x43, 0x43, 0x25, 0xff
#.byte 0xcd, 0x43, 0x43, 0x26, 0xff
#.byte 0xcd, 0x43, 0x43, 0x27, 0xff
#.byte 0xcd, 0x43, 0x43, 0x28, 0xff
#.byte 0xcd, 0x43, 0x43, 0x29, 0xff
#.byte 0xcd, 0x43, 0x43, 0x2a, 0xff
#.byte 0xcd, 0x43, 0x43, 0x2b, 0xff
#.byte 0xcd, 0x43, 0x43, 0x2c, 0xff
#.byte 0xcd, 0x43, 0x43, 0x2d, 0xff
#.byte 0xcd, 0x43, 0x43, 0x2e, 0xff
#.byte 0xcd, 0x43, 0x43, 0x2f, 0xff
#.byte 0xcd, 0x43, 0x43, 0x30, 0xff
#.byte 0xcd, 0x43, 0x43, 0x31, 0xff
#.byte 0xcd, 0x43, 0x43, 0x32, 0xff
#.byte 0xcd, 0x43, 0x43, 0x33, 0xff
#.byte 0xcd, 0x43, 0x43, 0x34, 0xff
#.byte 0xcd, 0x43, 0x43, 0x35, 0xff
#.byte 0xcd, 0x43, 0x43, 0x36, 0xff
#.byte 0xcd, 0x43, 0x43, 0x37, 0xff
#.byte 0xcd, 0x43, 0x43, 0x38, 0xff
#.byte 0xcd, 0x43, 0x43, 0x39, 0xff
#.byte 0xcd, 0x43, 0x43, 0x3a, 0xff
#.byte 0xcd, 0x43, 0x43, 0x3b, 0xff
#.byte 0xcd, 0x43, 0x43, 0x3c, 0xff
#.byte 0xcd, 0x43, 0x43, 0x3d, 0xff
#.byte 0xcd, 0x43, 0x43, 0x3e, 0xff
#.byte 0xcd, 0x43, 0x43, 0x3f, 0xff
#.byte 0xcd, 0x43, 0x43, 0x40, 0xff
#.byte 0xcd, 0x43, 0x43, 0x41, 0xff
#.byte 0xcd, 0x43, 0x43, 0x42, 0xff
#.byte 0xcd, 0x43, 0x43, 0x43, 0xff
#.byte 0xcd, 0x43, 0x43, 0x44, 0xff
#.byte 0xcd, 0x43, 0x43, 0x45, 0xff
#.byte 0xcd, 0x43, 0x43, 0x46, 0xff
#.byte 0xcd, 0x43, 0x43, 0x47, 0xff
#.byte 0xcd, 0x43, 0x43, 0x48, 0xff
#.byte 0xcd, 0x43, 0x43, 0x49, 0xff
#.byte 0xcd, 0x43, 0x43, 0x4a, 0xff
#.byte 0xcd, 0x43, 0x43, 0x4b, 0xff
#.byte 0xcd, 0x43, 0x43, 0x4c, 0xff
#.byte 0xcd, 0x43, 0x43, 0x4d, 0xff
#.byte 0xcd, 0x43, 0x43, 0x4e, 0xff
#.byte 0xcd, 0x43, 0x43, 0x4f, 0xff
#.byte 0xcd, 0x43, 0x43, 0x50, 0xff
#.byte 0xcd, 0x43, 0x43, 0x51, 0xff
#.byte 0xcd, 0x43, 0x43, 0x52, 0xff
#.byte 0xcd, 0x43, 0x43, 0x53, 0xff
#.byte 0xcd, 0x43, 0x43, 0x54, 0xff
#.byte 0xcd, 0x43, 0x43, 0x55, 0xff
#.byte 0xcd, 0x43, 0x43, 0x56, 0xff
#.byte 0xcd, 0x43, 0x43, 0x57, 0xff
#.byte 0xcd, 0x43, 0x43, 0x58, 0xff
#.byte 0xcd, 0x43, 0x43, 0x59, 0xff
#.byte 0xcd, 0x43, 0x43, 0x5a, 0xff
#.byte 0xcd, 0x43, 0x43, 0x5b, 0xff
#.byte 0xcd, 0x43, 0x43, 0x5c, 0xff
#.byte 0xcd, 0x43, 0x43, 0x5d, 0xff
#.byte 0xcd, 0x43, 0x43, 0x5e, 0xff
#.byte 0xcd, 0x43, 0x43, 0x5f, 0xff
#.byte 0xcd, 0x43, 0x43, 0x60, 0xff
#.byte 0xcd, 0x43, 0x43, 0x61, 0xff
#.byte 0xcd, 0x43, 0x43, 0x62, 0xff
#.byte 0xcd, 0x43, 0x43, 0x63, 0xff
#.byte 0xcd, 0x43, 0x43, 0x64, 0xff
#.byte 0xcd, 0x43, 0x43, 0x65, 0xff
#.byte 0xcd, 0x43, 0x43, 0x66, 0xff
#.byte 0xcd, 0x43, 0x43, 0x67, 0xff
#.byte 0xcd, 0x43, 0x43, 0x68, 0xff
#.byte 0xcd, 0x43, 0x43, 0x69, 0xff
#.byte 0xcd, 0x43, 0x43, 0x6a, 0xff
#.byte 0xcd, 0x43, 0x43, 0x6b, 0xff
#.byte 0xcd, 0x43, 0x43, 0x6c, 0xff
#.byte 0xcd, 0x43, 0x43, 0x6d, 0xff
#.byte 0xcd, 0x43, 0x43, 0x6e, 0xff
#.byte 0xcd, 0x43, 0x43, 0x6f, 0xff
#.byte 0xcd, 0x43, 0x43, 0x70, 0xff
#.byte 0xcd, 0x43, 0x43, 0x71, 0xff
#.byte 0xcd, 0x43, 0x43, 0x72, 0xff
#.byte 0xcd, 0x43, 0x43, 0x73, 0xff
#.byte 0xcd, 0x43, 0x43, 0x74, 0xff
#.byte 0xcd, 0x43, 0x43, 0x75, 0xff
#.byte 0xcd, 0x43, 0x43, 0x76, 0xff
#.byte 0xcd, 0x43, 0x43, 0x77, 0xff
#.byte 0xcd, 0x43, 0x43, 0x78, 0xff
#.byte 0xcd, 0x43, 0x43, 0x79, 0xff
#.byte 0xcd, 0x43, 0x43, 0x7a, 0xff
#.byte 0xcd, 0x43, 0x43, 0x7b, 0xff
#.byte 0xcd, 0x43, 0x43, 0x7c, 0xff
#.byte 0xcd, 0x43, 0x43, 0x7d, 0xff
#.byte 0xcd, 0x43, 0x43, 0x7e, 0xff
#.byte 0xcd, 0x43, 0x43, 0x7f, 0xff
#.byte 0xcd, 0x43, 0x43, 0x80, 0xff
#.byte 0xcd, 0x43, 0x43, 0x81, 0xff
#.byte 0xcd, 0x43, 0x43, 0x82, 0xff
#.byte 0xcd, 0x43, 0x43, 0x83, 0xff
#.byte 0xcd, 0x43, 0x43, 0x84, 0xff
#.byte 0xcd, 0x43, 0x43, 0x85, 0xff
#.byte 0xcd, 0x43, 0x43, 0x86, 0xff
#.byte 0xcd, 0x43, 0x43, 0x87, 0xff
#.byte 0xcd, 0x43, 0x43, 0x88, 0xff
#.byte 0xcd, 0x43, 0x43, 0x89, 0xff
#.byte 0xcd, 0x43, 0x43, 0x8a, 0xff
#.byte 0xcd, 0x43, 0x43, 0x8b, 0xff
#.byte 0xcd, 0x43, 0x43, 0x8c, 0xff
#.byte 0xcd, 0x43, 0x43, 0x8d, 0xff
#.byte 0xcd, 0x43, 0x43, 0x8e, 0xff
#.byte 0xcd, 0x43, 0x43, 0x8f, 0xff
#.byte 0xcd, 0x43, 0x43, 0x90, 0xff
#.byte 0xcd, 0x43, 0x43, 0x91, 0xff
#.byte 0xcd, 0x43, 0x43, 0x92, 0xff
#.byte 0xcd, 0x43, 0x43, 0x93, 0xff
#.byte 0xcd, 0x43, 0x43, 0x94, 0xff
#.byte 0xcd, 0x43, 0x43, 0x95, 0xff
#.byte 0xcd, 0x43, 0x43, 0x96, 0xff
#.byte 0xcd, 0x43, 0x43, 0x97, 0xff
#.byte 0xcd, 0x43, 0x43, 0x98, 0xff
#.byte 0xcd, 0x43, 0x43, 0x99, 0xff
#.byte 0xcd, 0x43, 0x43, 0x9a, 0xff
#.byte 0xcd, 0x43, 0x43, 0x9b, 0xff
#.byte 0xcd, 0x43, 0x43, 0x9c, 0xff
#.byte 0xcd, 0x43, 0x43, 0x9d, 0xff
#.byte 0xcd, 0x43, 0x43, 0x9e, 0xff
#.byte 0xcd, 0x43, 0x43, 0x9f, 0xff
#.byte 0xcd, 0x43, 0x43, 0xa0, 0xff
#.byte 0xcd, 0x43, 0x43, 0xa1, 0xff
#.byte 0xcd, 0x43, 0x43, 0xa2, 0xff
#.byte 0xcd, 0x43, 0x43, 0xa3, 0xff
#.byte 0xcd, 0x43, 0x43, 0xa4, 0xff
#.byte 0xcd, 0x43, 0x43, 0xa5, 0xff
#.byte 0xcd, 0x43, 0x43, 0xa6, 0xff
#.byte 0xcd, 0x43, 0x43, 0xa7, 0xff
#.byte 0xcd, 0x43, 0x43, 0xa8, 0xff
#.byte 0xcd, 0x43, 0x43, 0xa9, 0xff
#.byte 0xcd, 0x43, 0x43, 0xaa, 0xff
#.byte 0xcd, 0x43, 0x43, 0xab, 0xff
#.byte 0xcd, 0x43, 0x43, 0xac, 0xff
#.byte 0xcd, 0x43, 0x43, 0xad, 0xff
#.byte 0xcd, 0x43, 0x43, 0xae, 0xff
#.byte 0xcd, 0x43, 0x43, 0xaf, 0xff
#.byte 0xcd, 0x43, 0x43, 0xb0, 0xff
#.byte 0xcd, 0x43, 0x43, 0xb1, 0xff
#.byte 0xcd, 0x43, 0x43, 0xb2, 0xff
#.byte 0xcd, 0x43, 0x43, 0xb3, 0xff
#.byte 0xcd, 0x43, 0x43, 0xb4, 0xff
#.byte 0xcd, 0x43, 0x43, 0xb5, 0xff
#.byte 0xcd, 0x43, 0x43, 0xb6, 0xff
#.byte 0xcd, 0x43, 0x43, 0xb7, 0xff
#.byte 0xcd, 0x43, 0x43, 0xb8, 0xff
#.byte 0xcd, 0x43, 0x43, 0xb9, 0xff
#.byte 0xcd, 0x43, 0x43, 0xba, 0xff
#.byte 0xcd, 0x43, 0x43, 0xbb, 0xff
#.byte 0xcd, 0x43, 0x43, 0xbc, 0xff
#.byte 0xcd, 0x43, 0x43, 0xbd, 0xff
#.byte 0xcd, 0x43, 0x43, 0xbe, 0xff
#.byte 0xcd, 0x43, 0x43, 0xbf, 0xff
#.byte 0xcd, 0x43, 0x43, 0xc0, 0xff
#.byte 0xcd, 0x43, 0x43, 0xc1, 0xff
#.byte 0xcd, 0x43, 0x43, 0xc2, 0xff
#.byte 0xcd, 0x43, 0x43, 0xc3, 0xff
#.byte 0xcd, 0x43, 0x43, 0xc4, 0xff
#.byte 0xcd, 0x43, 0x43, 0xc5, 0xff
#.byte 0xcd, 0x43, 0x43, 0xc6, 0xff
#.byte 0xcd, 0x43, 0x43, 0xc7, 0xff
#.byte 0xcd, 0x43, 0x43, 0xc8, 0xff
#.byte 0xcd, 0x43, 0x43, 0xc9, 0xff
#.byte 0xcd, 0x43, 0x43, 0xca, 0xff
#.byte 0xcd, 0x43, 0x43, 0xcb, 0xff
#.byte 0xcd, 0x43, 0x43, 0xcc, 0xff
#.byte 0xcd, 0x43, 0x43, 0xcd, 0xff
#.byte 0xcd, 0x43, 0x43, 0xce, 0xff
#.byte 0xcd, 0x43, 0x43, 0xcf, 0xff
#.byte 0xcd, 0x43, 0x43, 0xd0, 0xff
#.byte 0xcd, 0x43, 0x43, 0xd1, 0xff
#.byte 0xcd, 0x43, 0x43, 0xd2, 0xff
#.byte 0xcd, 0x43, 0x43, 0xd3, 0xff
#.byte 0xcd, 0x43, 0x43, 0xd4, 0xff
#.byte 0xcd, 0x43, 0x43, 0xd5, 0xff
#.byte 0xcd, 0x43, 0x43, 0xd6, 0xff
#.byte 0xcd, 0x43, 0x43, 0xd7, 0xff
#.byte 0xcd, 0x43, 0x43, 0xd8, 0xff
#.byte 0xcd, 0x43, 0x43, 0xd9, 0xff
#.byte 0xcd, 0x43, 0x43, 0xda, 0xff
#.byte 0xcd, 0x43, 0x43, 0xdb, 0xff
#.byte 0xcd, 0x43, 0x43, 0xdc, 0xff
#.byte 0xcd, 0x43, 0x43, 0xdd, 0xff
#.byte 0xcd, 0x43, 0x43, 0xde, 0xff
#.byte 0xcd, 0x43, 0x43, 0xdf, 0xff
#.byte 0xcd, 0x43, 0x43, 0xe0, 0xff
#.byte 0xcd, 0x43, 0x43, 0xe1, 0xff
#.byte 0xcd, 0x43, 0x43, 0xe2, 0xff
#.byte 0xcd, 0x43, 0x43, 0xe3, 0xff
#.byte 0xcd, 0x43, 0x43, 0xe4, 0xff
#.byte 0xcd, 0x43, 0x43, 0xe5, 0xff
#.byte 0xcd, 0x43, 0x43, 0xe6, 0xff
#.byte 0xcd, 0x43, 0x43, 0xe7, 0xff
#.byte 0xcd, 0x43, 0x43, 0xe8, 0xff
#.byte 0xcd, 0x43, 0x43, 0xe9, 0xff
#.byte 0xcd, 0x43, 0x43, 0xea, 0xff
#.byte 0xcd, 0x43, 0x43, 0xeb, 0xff
#.byte 0xcd, 0x43, 0x43, 0xec, 0xff
#.byte 0xcd, 0x43, 0x43, 0xed, 0xff
#.byte 0xcd, 0x43, 0x43, 0xee, 0xff
#.byte 0xcd, 0x43, 0x43, 0xef, 0xff
#.byte 0xcd, 0x43, 0x43, 0xf0, 0xff
#.byte 0xcd, 0x43, 0x43, 0xf1, 0xff
#.byte 0xcd, 0x43, 0x43, 0xf2, 0xff
#.byte 0xcd, 0x43, 0x43, 0xf3, 0xff
#.byte 0xcd, 0x43, 0x43, 0xf4, 0xff
#.byte 0xcd, 0x43, 0x43, 0xf5, 0xff
#.byte 0xcd, 0x43, 0x43, 0xf6, 0xff
#.byte 0xcd, 0x43, 0x43, 0xf7, 0xff
#.byte 0xcd, 0x43, 0x43, 0xf8, 0xff
#.byte 0xcd, 0x43, 0x43, 0xf9, 0xff
#.byte 0xcd, 0x43, 0x43, 0xfa, 0xff
#.byte 0xcd, 0x43, 0x43, 0xfb, 0xff
#.byte 0xcd, 0x43, 0x43, 0xfc, 0xff
#.byte 0xcd, 0x43, 0x43, 0xfd, 0xff
#.byte 0xcd, 0x43, 0x43, 0xfe, 0xff
  add 0x80000000, d2
  mov d2, a0
  mov d0, (a0)
  mov 0x3333, d0

  .byte 0xf0, 0xfd
  rti

